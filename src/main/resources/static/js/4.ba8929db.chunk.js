"use strict";(self.webpackChunkreact_portfolio_manager=self.webpackChunkreact_portfolio_manager||[]).push([[4],{5004:function(t,n,e){e.r(n),e.d(n,{default:function(){return Y}});var a=e(9439),i=e(1889),o=e(2791),r=e(4942),s=e(1413),d=e(5527),c=e(890),l=e(7391),u=e(6151),g=e(6435),p=e(3418),v=e(9709),h=e(3329),m=(0,o.createContext)({});function f(t,n){if("countUpdate"===n.type)return(0,s.Z)((0,s.Z)({},t),{},{updateCount:t.updateCount+1});throw new Error}var Z=e(184);function x(){var t=o.useRef(null),n=o.useContext(m).dispatch,e=o.useState({name:"",description:"",account:""}),f=(0,a.Z)(e,2),x=f[0],b=f[1],I=function(t){var n=t.target,e=n.name,a=n.value;b((function(t){return(0,s.Z)((0,s.Z)({},t),{},(0,r.Z)({},e,a))}))},j=(0,p.D)({mutationFn:function(){return fetch(g._+"portfolio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})}});return o.useMemo((function(){n&&n({type:"countUpdate"})}),["success"===j.status]),(0,Z.jsx)(d.Z,{sx:{m:2,p:2},children:(0,Z.jsx)("form",{ref:t,children:(0,Z.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(c.Z,{variant:"h5",children:"\u65b0\u589e\u6295\u8d44\u7ec4\u5408"})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(l.Z,{label:"\u540d\u79f0",fullWidth:!0,placeholder:"\u8bf7\u8f93\u5165\u6295\u8d44\u7ec4\u5408\u540d\u79f0",name:"name",value:x.name,onChange:I,required:!0})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(l.Z,{label:"\u63cf\u8ff0",fullWidth:!0,placeholder:"\u8bf7\u63cf\u8ff0\u8be5\u6295\u8d44\u7ec4\u5408",name:"description",value:x.description,onChange:I,required:!0})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(l.Z,{label:"\u5173\u8054\u8d26\u6237",fullWidth:!0,placeholder:"\u8bf7\u8f93\u5165\u5728\u5238\u5546\u7684\u5173\u8054\u8d26\u6237",name:"account",value:x.account,onChange:I,required:!0})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:j.isLoading?(0,Z.jsx)(v.Z,{loading:j.isLoading,loadingPosition:"start",startIcon:(0,Z.jsx)(h.Z,{}),variant:"contained",disabled:!0,children:(0,Z.jsx)("span",{children:"\u521b\u5efa\u4e2d"})}):(0,Z.jsx)(u.Z,{variant:"contained",sx:{width:"25%"},onClick:function(){var n;null!==(n=t.current)&&void 0!==n&&n.reportValidity()&&j.mutate()},children:"\u65b0\u589e"})})]})})})}var b=e(6314);function I(t){var n=t.name,e=t.description,a=t.account;return(0,Z.jsxs)(i.ZP,{container:!0,children:[(0,Z.jsx)(i.ZP,{item:!0,xs:6,children:(0,Z.jsxs)(b.Z,{spacing:1,children:[(0,Z.jsx)(c.Z,{children:(0,Z.jsx)("strong",{children:n})}),(0,Z.jsx)(c.Z,{children:a})]})}),(0,Z.jsx)(i.ZP,{item:!0,xs:6,children:(0,Z.jsx)(b.Z,{spacing:1,children:(0,Z.jsx)(c.Z,{variant:"body2",children:e})})})]})}var j=e(7462),P=e(3366),y=e(3733),C=e(2421),L=e(104),S=e(8519),w=e(418),O=["className","component"];var k=e(5902),N=e(7107),F=e(988),R=(0,N.Z)(),B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.themeId,e=t.defaultTheme,a=t.defaultClassName,i=void 0===a?"MuiBox-root":a,r=t.generateClassName,s=(0,C.ZP)("div",{shouldForwardProp:function(t){return"theme"!==t&&"sx"!==t&&"as"!==t}})(L.Z);return o.forwardRef((function(t,a){var o=(0,w.Z)(e),d=(0,S.Z)(t),c=d.className,l=d.component,u=void 0===l?"div":l,g=(0,P.Z)(d,O);return(0,Z.jsx)(s,(0,j.Z)({as:u,ref:a,className:(0,y.Z)(c,r?r(i):i),theme:n&&o[n]||o},g))}))}({themeId:F.Z,defaultTheme:R,defaultClassName:"MuiBox-root",generateClassName:k.Z.generate}),M=B,E=e(493),V=e(4419),G=e(2065),W=e(6934),q=e(1402),z=e(7479),T=e(162),_=e(2071),D=e(6199),H=e(4065),U=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],A=(0,W.ZP)(z.Z,{shouldForwardProp:function(t){return(0,W.FO)(t)||"classes"===t},name:"MuiListItemButton",slot:"Root",overridesResolver:function(t,n){var e=t.ownerState;return[n.root,e.dense&&n.dense,"flex-start"===e.alignItems&&n.alignItemsFlexStart,e.divider&&n.divider,!e.disableGutters&&n.gutters]}})((function(t){var n,e=t.theme,a=t.ownerState;return(0,j.Z)((n={display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,r.Z)(n,"&.".concat(H.Z.selected),(0,r.Z)({backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,G.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)},"&.".concat(H.Z.focusVisible),{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.focusOpacity,"))"):(0,G.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)})),(0,r.Z)(n,"&.".concat(H.Z.selected,":hover"),{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,G.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,G.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}}),(0,r.Z)(n,"&.".concat(H.Z.focusVisible),{backgroundColor:(e.vars||e).palette.action.focus}),(0,r.Z)(n,"&.".concat(H.Z.disabled),{opacity:(e.vars||e).palette.action.disabledOpacity}),n),a.divider&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider),backgroundClip:"padding-box"},"flex-start"===a.alignItems&&{alignItems:"flex-start"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.dense&&{paddingTop:4,paddingBottom:4})})),J=o.forwardRef((function(t,n){var e=(0,q.Z)({props:t,name:"MuiListItemButton"}),a=e.alignItems,i=void 0===a?"center":a,r=e.autoFocus,s=void 0!==r&&r,d=e.component,c=void 0===d?"div":d,l=e.children,u=e.dense,g=void 0!==u&&u,p=e.disableGutters,v=void 0!==p&&p,h=e.divider,m=void 0!==h&&h,f=e.focusVisibleClassName,x=e.selected,b=void 0!==x&&x,I=e.className,C=(0,P.Z)(e,U),L=o.useContext(D.Z),S=o.useMemo((function(){return{dense:g||L.dense||!1,alignItems:i,disableGutters:v}}),[i,L.dense,g,v]),w=o.useRef(null);(0,T.Z)((function(){s&&w.current&&w.current.focus()}),[s]);var O=(0,j.Z)({},e,{alignItems:i,dense:S.dense,disableGutters:v,divider:m,selected:b}),k=function(t){var n=t.alignItems,e=t.classes,a=t.dense,i=t.disabled,o={root:["root",a&&"dense",!t.disableGutters&&"gutters",t.divider&&"divider",i&&"disabled","flex-start"===n&&"alignItemsFlexStart",t.selected&&"selected"]},r=(0,V.Z)(o,H.t,e);return(0,j.Z)({},e,r)}(O),N=(0,_.Z)(w,n);return(0,Z.jsx)(D.Z.Provider,{value:S,children:(0,Z.jsx)(A,(0,j.Z)({ref:N,href:C.href||C.to,component:(C.href||C.to)&&"div"===c?"button":c,focusVisibleClassName:(0,y.Z)(k.focusVisible,f),ownerState:O,className:(0,y.Z)(k.root,I)},C,{classes:k,children:l}))})})),K=e(7535);function Q(){var t=o.useState([]),n=(0,a.Z)(t,2),e=n[0],i=n[1],r=o.useContext(m).state;return o.useEffect((function(){(0,K.v)().then((function(t){t&&i(t)}))}),[r.updateCount]),(0,Z.jsx)(M,{sx:{p:2},children:(0,Z.jsx)(b.Z,{spacing:1,children:(0,Z.jsx)(E.Z,{disablePadding:!0,children:e.map((function(t,n){return(0,Z.jsx)(J,{sx:{border:1,borderColor:"#e5e7eb"},children:(0,Z.jsx)(I,{name:t.name,description:t.description,account:t.account})},n)}))})})})}var X={updateCount:0};function Y(){var t=(0,o.useReducer)(f,X),n=(0,a.Z)(t,2),e=n[0],r=n[1];return(0,Z.jsx)(m.Provider,{value:{state:e,dispatch:r},children:(0,Z.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(i.ZP,{item:!0,xs:6,children:(0,Z.jsx)(Q,{})}),(0,Z.jsx)(i.ZP,{item:!0,xs:6,children:(0,Z.jsx)(x,{})})]})})}},3329:function(t,n,e){var a=e(4836);n.Z=void 0;var i=a(e(5649)),o=e(184),r=(0,i.default)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");n.Z=r},9709:function(t,n,e){e.d(n,{Z:function(){return I}});var a=e(4942),i=e(3366),o=e(7462),r=e(2791),s=e(4036),d=e(7384),c=e(4419),l=e(6934),u=e(1402),g=e(6151),p=e(3239),v=e(1217);function h(t){return(0,v.Z)("MuiLoadingButton",t)}var m=(0,e(5878).Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),f=e(184),Z=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],x=(0,l.ZP)(g.Z,{shouldForwardProp:function(t){return function(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t&&"classes"!==t}(t)||"classes"===t},name:"MuiLoadingButton",slot:"Root",overridesResolver:function(t,n){return[n.root,n.startIconLoadingStart&&(0,a.Z)({},"& .".concat(m.startIconLoadingStart),n.startIconLoadingStart),n.endIconLoadingEnd&&(0,a.Z)({},"& .".concat(m.endIconLoadingEnd),n.endIconLoadingEnd)]}})((function(t){var n=t.ownerState,e=t.theme;return(0,o.Z)((0,a.Z)({},"& .".concat(m.startIconLoadingStart,", & .").concat(m.endIconLoadingEnd),{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}),"center"===n.loadingPosition&&(0,a.Z)({transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short})},"&.".concat(m.loading),{color:"transparent"}),"start"===n.loadingPosition&&n.fullWidth&&(0,a.Z)({},"& .".concat(m.startIconLoadingStart,", & .").concat(m.endIconLoadingEnd),{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}),"end"===n.loadingPosition&&n.fullWidth&&(0,a.Z)({},"& .".concat(m.startIconLoadingStart,", & .").concat(m.endIconLoadingEnd),{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}))})),b=(0,l.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:function(t,n){var e=t.ownerState;return[n.loadingIndicator,n["loadingIndicator".concat((0,s.Z)(e.loadingPosition))]]}})((function(t){var n=t.theme,e=t.ownerState;return(0,o.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{left:"small"===e.size?10:14},"start"===e.loadingPosition&&"text"===e.variant&&{left:6},"center"===e.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled},"end"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{right:"small"===e.size?10:14},"end"===e.loadingPosition&&"text"===e.variant&&{right:6},"start"===e.loadingPosition&&e.fullWidth&&{position:"relative",left:-10},"end"===e.loadingPosition&&e.fullWidth&&{position:"relative",right:-10})})),I=r.forwardRef((function(t,n){var e=(0,u.Z)({props:t,name:"MuiLoadingButton"}),a=e.children,r=e.disabled,l=void 0!==r&&r,g=e.id,v=e.loading,m=void 0!==v&&v,I=e.loadingIndicator,j=e.loadingPosition,P=void 0===j?"center":j,y=e.variant,C=void 0===y?"text":y,L=(0,i.Z)(e,Z),S=(0,d.Z)(g),w=null!=I?I:(0,f.jsx)(p.Z,{"aria-labelledby":S,color:"inherit",size:16}),O=(0,o.Z)({},e,{disabled:l,loading:m,loadingIndicator:w,loadingPosition:P,variant:C}),k=function(t){var n=t.loading,e=t.loadingPosition,a=t.classes,i={root:["root",n&&"loading"],startIcon:[n&&"startIconLoading".concat((0,s.Z)(e))],endIcon:[n&&"endIconLoading".concat((0,s.Z)(e))],loadingIndicator:["loadingIndicator",n&&"loadingIndicator".concat((0,s.Z)(e))]},r=(0,c.Z)(i,h,a);return(0,o.Z)({},a,r)}(O),N=m?(0,f.jsx)(b,{className:k.loadingIndicator,ownerState:O,children:w}):null;return(0,f.jsxs)(x,(0,o.Z)({disabled:l||m,id:S,ref:n},L,{variant:C,classes:k,ownerState:O,children:["end"===O.loadingPosition?a:N,"end"===O.loadingPosition?N:a]}))}))}}]);
//# sourceMappingURL=4.ba8929db.chunk.js.map