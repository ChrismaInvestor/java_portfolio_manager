"use strict";(self.webpackChunkreact_portfolio_manager=self.webpackChunkreact_portfolio_manager||[]).push([[617],{6617:function(t,n,e){e.r(n),e.d(n,{default:function(){return _}});var a=e(9439),i=e(1889),o=e(2791),r=e(4942),s=e(1413),d=e(5527),c=e(890),l=e(7391),u=e(6151),g=e(6435),p=e(3418),v=e(9709),h=e(3329),f=(0,o.createContext)({});function m(t,n){if("countUpdate"===n.type)return(0,s.Z)((0,s.Z)({},t),{},{updateCount:t.updateCount+1});throw new Error}var Z=e(184);function x(){var t=o.useRef(null),n=o.useContext(f).dispatch,e=o.useState({name:"",description:"",account:""}),m=(0,a.Z)(e,2),x=m[0],b=m[1],I=function(t){var n=t.target,e=n.name,a=n.value;b((function(t){return(0,s.Z)((0,s.Z)({},t),{},(0,r.Z)({},e,a))}))},j=(0,p.D)({mutationFn:function(){return fetch(g._+"portfolio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})}});return o.useMemo((function(){n&&n({type:"countUpdate"})}),["success"===j.status]),(0,Z.jsx)(d.Z,{sx:{m:2,p:2},children:(0,Z.jsx)("form",{ref:t,children:(0,Z.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(c.Z,{variant:"h5",children:"\u65b0\u589e\u6295\u8d44\u7ec4\u5408"})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(l.Z,{label:"\u540d\u79f0",fullWidth:!0,placeholder:"\u8bf7\u8f93\u5165\u6295\u8d44\u7ec4\u5408\u540d\u79f0",name:"name",value:x.name,onChange:I,required:!0})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(l.Z,{label:"\u63cf\u8ff0",fullWidth:!0,placeholder:"\u8bf7\u63cf\u8ff0\u8be5\u6295\u8d44\u7ec4\u5408",name:"description",value:x.description,onChange:I,required:!0})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:(0,Z.jsx)(l.Z,{label:"\u5173\u8054\u8d26\u6237",fullWidth:!0,placeholder:"\u8bf7\u8f93\u5165\u5728\u5238\u5546\u7684\u5173\u8054\u8d26\u6237",name:"account",value:x.account,onChange:I,required:!0})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,children:j.isLoading?(0,Z.jsx)(v.Z,{loading:j.isLoading,loadingPosition:"start",startIcon:(0,Z.jsx)(h.Z,{}),variant:"contained",disabled:!0,children:(0,Z.jsx)("span",{children:"\u521b\u5efa\u4e2d"})}):(0,Z.jsx)(u.Z,{variant:"contained",sx:{width:"25%"},onClick:function(){var n;null!==(n=t.current)&&void 0!==n&&n.reportValidity()&&j.mutate()},children:"\u65b0\u589e"})})]})})})}var b=e(6314);function I(t){var n=t.name,e=t.description,a=t.account;return(0,Z.jsxs)(i.ZP,{container:!0,children:[(0,Z.jsx)(i.ZP,{item:!0,xs:6,children:(0,Z.jsxs)(b.Z,{spacing:1,children:[(0,Z.jsx)(c.Z,{children:(0,Z.jsx)("strong",{children:n})}),(0,Z.jsx)(c.Z,{children:a})]})}),(0,Z.jsx)(i.ZP,{item:!0,xs:6,children:(0,Z.jsx)(b.Z,{spacing:1,children:(0,Z.jsx)(c.Z,{variant:"body2",children:e})})})]})}var j=e(4554),y=e(493),P=e(3366),C=e(7462),L=e(3733),S=e(4419),w=e(2065),O=e(6934),k=e(1402),F=e(7479),R=e(162),B=e(2071),E=e(6199),M=e(4065),V=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],G=(0,O.ZP)(F.Z,{shouldForwardProp:function(t){return(0,O.FO)(t)||"classes"===t},name:"MuiListItemButton",slot:"Root",overridesResolver:function(t,n){var e=t.ownerState;return[n.root,e.dense&&n.dense,"flex-start"===e.alignItems&&n.alignItemsFlexStart,e.divider&&n.divider,!e.disableGutters&&n.gutters]}})((function(t){var n,e=t.theme,a=t.ownerState;return(0,C.Z)((n={display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,r.Z)(n,"&.".concat(M.Z.selected),(0,r.Z)({backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,w.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)},"&.".concat(M.Z.focusVisible),{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.focusOpacity,"))"):(0,w.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)})),(0,r.Z)(n,"&.".concat(M.Z.selected,":hover"),{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,w.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,w.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}}),(0,r.Z)(n,"&.".concat(M.Z.focusVisible),{backgroundColor:(e.vars||e).palette.action.focus}),(0,r.Z)(n,"&.".concat(M.Z.disabled),{opacity:(e.vars||e).palette.action.disabledOpacity}),n),a.divider&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider),backgroundClip:"padding-box"},"flex-start"===a.alignItems&&{alignItems:"flex-start"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.dense&&{paddingTop:4,paddingBottom:4})})),N=o.forwardRef((function(t,n){var e=(0,k.Z)({props:t,name:"MuiListItemButton"}),a=e.alignItems,i=void 0===a?"center":a,r=e.autoFocus,s=void 0!==r&&r,d=e.component,c=void 0===d?"div":d,l=e.children,u=e.dense,g=void 0!==u&&u,p=e.disableGutters,v=void 0!==p&&p,h=e.divider,f=void 0!==h&&h,m=e.focusVisibleClassName,x=e.selected,b=void 0!==x&&x,I=e.className,j=(0,P.Z)(e,V),y=o.useContext(E.Z),w=o.useMemo((function(){return{dense:g||y.dense||!1,alignItems:i,disableGutters:v}}),[i,y.dense,g,v]),O=o.useRef(null);(0,R.Z)((function(){s&&O.current&&O.current.focus()}),[s]);var F=(0,C.Z)({},e,{alignItems:i,dense:w.dense,disableGutters:v,divider:f,selected:b}),N=function(t){var n=t.alignItems,e=t.classes,a=t.dense,i=t.disabled,o={root:["root",a&&"dense",!t.disableGutters&&"gutters",t.divider&&"divider",i&&"disabled","flex-start"===n&&"alignItemsFlexStart",t.selected&&"selected"]},r=(0,S.Z)(o,M.t,e);return(0,C.Z)({},e,r)}(F),W=(0,B.Z)(O,n);return(0,Z.jsx)(E.Z.Provider,{value:w,children:(0,Z.jsx)(G,(0,C.Z)({ref:W,href:j.href||j.to,component:(j.href||j.to)&&"div"===c?"button":c,focusVisibleClassName:(0,L.Z)(N.focusVisible,m),ownerState:F,className:(0,L.Z)(N.root,I)},j,{classes:N,children:l}))})})),W=e(7535);function q(){var t=o.useState([]),n=(0,a.Z)(t,2),e=n[0],i=n[1],r=o.useContext(f).state;return o.useEffect((function(){(0,W.v)().then((function(t){t&&i(t)}))}),[r.updateCount]),(0,Z.jsx)(j.Z,{sx:{p:2},children:(0,Z.jsx)(b.Z,{spacing:1,children:(0,Z.jsx)(y.Z,{disablePadding:!0,children:e.map((function(t,n){return(0,Z.jsx)(N,{sx:{border:1,borderColor:"#e5e7eb"},children:(0,Z.jsx)(I,{name:t.name,description:t.description,account:t.account})},n)}))})})})}var z={updateCount:0};function _(){var t=(0,o.useReducer)(m,z),n=(0,a.Z)(t,2),e=n[0],r=n[1];return(0,Z.jsx)(f.Provider,{value:{state:e,dispatch:r},children:(0,Z.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(i.ZP,{item:!0,xs:6,children:(0,Z.jsx)(q,{})}),(0,Z.jsx)(i.ZP,{item:!0,xs:6,children:(0,Z.jsx)(x,{})})]})})}},3329:function(t,n,e){var a=e(4836);n.Z=void 0;var i=a(e(5649)),o=e(184),r=(0,i.default)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");n.Z=r},9709:function(t,n,e){e.d(n,{Z:function(){return I}});var a=e(4942),i=e(3366),o=e(7462),r=e(2791),s=e(4036),d=e(7384),c=e(4419),l=e(6934),u=e(1402),g=e(6151),p=e(3239),v=e(1217);function h(t){return(0,v.Z)("MuiLoadingButton",t)}var f=(0,e(5878).Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),m=e(184),Z=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],x=(0,l.ZP)(g.Z,{shouldForwardProp:function(t){return function(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t&&"classes"!==t}(t)||"classes"===t},name:"MuiLoadingButton",slot:"Root",overridesResolver:function(t,n){return[n.root,n.startIconLoadingStart&&(0,a.Z)({},"& .".concat(f.startIconLoadingStart),n.startIconLoadingStart),n.endIconLoadingEnd&&(0,a.Z)({},"& .".concat(f.endIconLoadingEnd),n.endIconLoadingEnd)]}})((function(t){var n=t.ownerState,e=t.theme;return(0,o.Z)((0,a.Z)({},"& .".concat(f.startIconLoadingStart,", & .").concat(f.endIconLoadingEnd),{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}),"center"===n.loadingPosition&&(0,a.Z)({transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short})},"&.".concat(f.loading),{color:"transparent"}),"start"===n.loadingPosition&&n.fullWidth&&(0,a.Z)({},"& .".concat(f.startIconLoadingStart,", & .").concat(f.endIconLoadingEnd),{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}),"end"===n.loadingPosition&&n.fullWidth&&(0,a.Z)({},"& .".concat(f.startIconLoadingStart,", & .").concat(f.endIconLoadingEnd),{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}))})),b=(0,l.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:function(t,n){var e=t.ownerState;return[n.loadingIndicator,n["loadingIndicator".concat((0,s.Z)(e.loadingPosition))]]}})((function(t){var n=t.theme,e=t.ownerState;return(0,o.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{left:"small"===e.size?10:14},"start"===e.loadingPosition&&"text"===e.variant&&{left:6},"center"===e.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled},"end"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{right:"small"===e.size?10:14},"end"===e.loadingPosition&&"text"===e.variant&&{right:6},"start"===e.loadingPosition&&e.fullWidth&&{position:"relative",left:-10},"end"===e.loadingPosition&&e.fullWidth&&{position:"relative",right:-10})})),I=r.forwardRef((function(t,n){var e=(0,u.Z)({props:t,name:"MuiLoadingButton"}),a=e.children,r=e.disabled,l=void 0!==r&&r,g=e.id,v=e.loading,f=void 0!==v&&v,I=e.loadingIndicator,j=e.loadingPosition,y=void 0===j?"center":j,P=e.variant,C=void 0===P?"text":P,L=(0,i.Z)(e,Z),S=(0,d.Z)(g),w=null!=I?I:(0,m.jsx)(p.Z,{"aria-labelledby":S,color:"inherit",size:16}),O=(0,o.Z)({},e,{disabled:l,loading:f,loadingIndicator:w,loadingPosition:y,variant:C}),k=function(t){var n=t.loading,e=t.loadingPosition,a=t.classes,i={root:["root",n&&"loading"],startIcon:[n&&"startIconLoading".concat((0,s.Z)(e))],endIcon:[n&&"endIconLoading".concat((0,s.Z)(e))],loadingIndicator:["loadingIndicator",n&&"loadingIndicator".concat((0,s.Z)(e))]},r=(0,c.Z)(i,h,a);return(0,o.Z)({},a,r)}(O),F=f?(0,m.jsx)(b,{className:k.loadingIndicator,ownerState:O,children:w}):null;return(0,m.jsxs)(x,(0,o.Z)({disabled:l||f,id:S,ref:n},L,{variant:C,classes:k,ownerState:O,children:["end"===O.loadingPosition?a:F,"end"===O.loadingPosition?F:a]}))}))}}]);
//# sourceMappingURL=617.b0cfd0d6.chunk.js.map